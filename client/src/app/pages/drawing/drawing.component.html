<app-loader></app-loader>
<nb-card>
    <nb-card-header>
      <div class="row">
        <div class="col col-sm-2 col-md-2 col-xs-2">
          <span class="card-heading">
            Drawing
          </span>
        </div>
        <div class="col col-sm-7 col-md-7 col-xs-7 ">
          <nb-select style="width:100%" placeholder="Choose Your Drawing" [(ngModel)]="siteName" [ngModelOptions]="{standalone: true}"  (selectedChange)="drawingTypeChange($event)">
            <nb-option  *ngFor="let item of drawingData" [value]="item._id">{{item.name | titlecase}}</nb-option>
      </nb-select>   
        </div>
        <div class="col col-sm-3 col-md-3 col-xs-3">
         
          <button class="header-button" id="header-btn" (click)="addDrawing()"   nbButton status="primary">Add Drawing</button> 
        </div>
      </div>
    </nb-card-header>
      </nb-card>
      <div>
        <button  id="header-btn" (click)="addDrawing()"   nbButton status="success">Export pdf</button> 
      </div>
      
        <div class="container">
          <div class="pdf-container">
            <pdf-viewer
              [src]="imageURRRl"
              [rotation]="0"
              [original-size]="false"
              [show-all]="true"
              [fit-to-page]="false"
              [zoom]="1"
              [zoom-scale]="'page-width'"
              [stick-to-page]="false"
              [render-text]="true"
              [external-link-target]="'blank'"
              [autoresize]="true"
              [show-borders]="false"
              style="width: 100%; height: 100%;"
            ></pdf-viewer>
          </div>
       
      </div>
    
 
      <ng-template  #dialogdrawing let-data let-ref="dialogRef">
        <nb-card style="width:500px">
          <nb-card-header>Add Drawing</nb-card-header>
          <nb-card-body>
            <div class="form-group row">
                <label for="siteName"  class="label col-form-label">Drawing's Name</label>
                <div class="col-sm-12">
                  <input type="text" nbInput fullWidth  [(ngModel)]=" drawingForm.name" id="work" [ngModelOptions]="{standalone: true}" >
                  <!-- <span *ngIf="error.designation" class="required">*Required</span>   -->
              </div>
              </div>
              <div class="form-group row">
              <label for="siteLoc"   class="label col-form-label">Upload File</label>
                <div class="col-sm-12">
                  <input type="file" nbInput fullWidth  id="work"  name="imageUrl" (change)="onFileChange($event)" >
                    <!-- <span *ngIf="error.email" class="required">*Required</span> -->
                    </div>
               
              </div>
          </nb-card-body>
          <nb-card-footer>
            <button nbButton status="primary" (click)="submit()">Submit</button>&nbsp; &nbsp;<button nbButton status="basic" (click)="ref.close()">Cancel</button>
          </nb-card-footer>
        </nb-card>
      </ng-template>
      
      <ng-template #dialogdelete let-data let-ref="dialogRef">
        <nb-card  style="width:500px">
          <nb-card-header>Delete Drawing</nb-card-header>
          <nb-card-body>
           Are You Sure You Want To Delete This Drawing?
          </nb-card-body>
          <nb-card-footer>
            <button nbButton status="warning" (click)="removeDrawing()">Delete</button>&nbsp; &nbsp;<button nbButton status="basic" (click)="ref.close()">Cancel</button>
          </nb-card-footer>
        </nb-card>
      </ng-template>