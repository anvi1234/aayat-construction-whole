
    <div class="row">
      <div class="col-md-12">
        <div>
          <button type="submit" class="leave-btn" nbButton hero status="success" (click)="leaveToggle()">Leave</button><br>
        </div>
       
        <nb-card *ngIf="leaveShow">
          <nb-card-header><span [routerLink]="['/transaction']" class="card-heading">Attendence</span>
            <span  class="card-heading" style="float: right;">{{todaysDataTime}}</span>
          </nb-card-header>
        
          <nb-card-body>
            <span *ngIf="isCheckInDisabled" style="color:red;font-size: 15px;">We will meet Tomorrow , You have already marked your attendence today :)</span>
            <form >
             <div class="form-group row">
               <label for="siteName"  class="label col-sm-2 col-form-label">Site Name</label>
               <div class="col-sm-4">
                 <nb-select  *ngIf= "!isShow"  placeholder="Site Name" [(ngModel)]="EAttendenceFormModel.siteName" [ngModelOptions]="{standalone: true}" required>
                  
                   <nb-option  *ngFor="let site of siteName" [value]="site.siteName">{{site.siteName}}</nb-option>
               
                </nb-select>
                <input *ngIf= "isShow"  type="text" nbInput fullWidth id="supervisorName" [(ngModel)]="EAttendenceFormModel.siteName" [ngModelOptions]="{standalone: true}" required disabled>
                 <span *ngIf="error.siteName" class="required">*Required</span>
               </div>
               <label for="siteLoc"   class="label  col-sm-2 col-form-label">Site Location</label>
               <div class="col-sm-4">
                 <nb-select *ngIf= "!isShow"  placeholder="Site Location"  [(ngModel)]="EAttendenceFormModel.location" [ngModelOptions]="{standalone: true}" required>
                   <nb-option  *ngFor="let site of siteLocation"  [value]="site.location">{{site.location}}</nb-option>
                 </nb-select>
                 <input *ngIf= "isShow"  type="text" nbInput fullWidth id="supervisorName" [(ngModel)]="EAttendenceFormModel.location" [ngModelOptions]="{standalone: true}" required disabled>
                 <span *ngIf="error.location" class="required">*Required</span>
             </div>
             </div>
             <div class="form-group row">
               <label for="siteName"  class="label col-sm-2 col-form-label" >Employee's Name</label>
               <div class="col-sm-4">
                <div class="col-sm-4">
                  <nb-select   placeholder="Employee's Name"  [(ngModel)]="EAttendenceFormModel.employeeName" [ngModelOptions]="{standalone: true}" required>
                    <nb-option  *ngFor="let site of employeeName"  [value]="site._id">{{site.
                      fullName
                      }}</nb-option>
                  </nb-select>
              </div>
             </div>
             <label for="siteName"  class="label col-sm-2 col-form-label" >Date</label>
             <div class="col-sm-4">
              <input type="date" [min]="minDate"   nbInput [(ngModel)]="EAttendenceFormModel.date" [ngModelOptions]="{standalone: true}" required>
             
           </div>
             </div>
            
          
             <div class="form-group row">
               <div class="col-sm-4 offset-sm-4 text-center">
                 <button type="submit" nbButton status="primary" (click)="checkIn()" [disabled]="isCheckInDisabled">Check In</button>
               </div>
             </div>
           </form>
          </nb-card-body> 
          </nb-card>
   
          <nb-card *ngIf="!leaveShow">
            <nb-card-header><span [routerLink]="['/transaction']" class="card-heading">Leave</span>
              <span  class="card-heading" style="float: right;">{{todaysDataTime}}</span>
            </nb-card-header>
          
            <nb-card-body>
             
              <form >
               <div class="form-group row">
                 <label for="siteName"  class="label col-sm-2 col-form-label">Site Name</label>
                 <div class="col-sm-4">
                   <nb-select  placeholder="Site Name" [(ngModel)]="EAttendenceFormModel.siteName" [ngModelOptions]="{standalone: true}" required>
                    
                     <nb-option  *ngFor="let site of siteName" [value]="site.siteName">{{site.siteName}}</nb-option>
                 
                  </nb-select>
                  <span *ngIf="error.siteName" class="required">*Required</span>
                   <!-- <span *ngIf="error.fullName" class="required">*Required</span> -->
                 </div>
                 <label for="siteLoc"   class="label  col-sm-2 col-form-label">Site Location</label>
                 <div class="col-sm-4">
                   <nb-select   placeholder="Site Location"  [(ngModel)]="EAttendenceFormModel.location" [ngModelOptions]="{standalone: true}" required>
                     <nb-option  *ngFor="let site of siteLocation"  [value]="site.location">{{site.location}}</nb-option>
                   </nb-select>
                   <span *ngIf="error.location" class="required">*Required</span>
               </div>
               </div>
               <div class="form-group row">
                <label for="siteName"  class="label col-sm-2 col-form-label" >Start Date</label>
                <div class="col-sm-4">
                  <input type="date"  nbInput [(ngModel)]="EAttendenceFormModel.startDate" [ngModelOptions]="{standalone: true}" required>
                 <!-- <input id="dateBox" nbInput placeholder="Today's Date" [nbDatepicker]="ngmodel" [(ngModel)]="EAttendenceFormModel.startDate" [ngModelOptions]="{standalone: true}" required>
                 <nb-datepicker #ngmodel></nb-datepicker> -->
              </div>
              <label for="siteName"  class="label col-sm-2 col-form-label" >End Date</label>
              <div class="col-sm-4">
                <input type="date"  nbInput [(ngModel)]="EAttendenceFormModel.endDate" [ngModelOptions]="{standalone: true}" required>
               <!-- <input id="dateBox" nbInput placeholder="Today's Date" [nbDatepicker]="ngmodel2" [(ngModel)]="EAttendenceFormModel.endDate" [ngModelOptions]="{standalone: true}" required>
               <nb-datepicker #ngmodel2></nb-datepicker> -->
            </div>
              
               </div>
              
               <div class="form-group row">
                <label for="siteName"  class="label col-sm-2 col-form-label" >Employee's Name</label>
                <div class="col-sm-4">
                  <nb-select   placeholder="Employee's Name"  [(ngModel)]="EAttendenceFormModel.employeeName" [ngModelOptions]="{standalone: true}" required>
                    <nb-option  *ngFor="let site of employeeName"  [value]="site._id">{{site.
                      fullName
                      }}</nb-option>
                  </nb-select>
              </div>
              
             
              <div class="col-sm-4">
              
            </div>
              
               </div>
               <div class="form-group row">
                 <div class="col-sm-4 offset-sm-4 text-center">
                   <button type="submit" nbButton status="primary" (click)="submitLeave()" >Submit</button>
                 </div>
               </div>
             </form>
            </nb-card-body> 
            </nb-card>
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
        </div>
   </div>

